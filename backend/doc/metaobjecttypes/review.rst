.. _Review:

Review
======

A review object holds all the information required for a reviewer to review `ZAAKINFORMATIEOBJECT`en or `ZAAKEIGENSCHAP`pen.
The review object was previously handled by KOWNSL which as of March 27th of 2024 has been deprecated in favor of a hybrid
solution between the OBJECTS API and the ZAC itself.
The review is linked to a :ref:`ReviewRequest`.
Any review request can have any number of reviews. Current implementation of a review objecttype:

.. code-block:: json

    {
        "type":"object",
        "$defs":{
            "id":{
                "type":"string"
            },
            "user":{
                "type":"object",
                "title":"user",
                "required":[
                    "username",
                    "firstName",
                    "fullName",
                    "lastName",
                    "email"
                ],
                "properties":{
                    "email":{
                    "type":"string"
                    },
                    "fullName":{
                    "type":"string"
                    },
                    "lastName":{
                    "type":"string"
                    },
                    "username":{
                    "type":"string"
                    },
                    "firstName":{
                    "type":"string"
                    }
                }
            },
            "zaak":{
                "type":"string"
            },
            "group":{
                "type":[
                    "object",
                    "null"
                ],
                "title":"group",
                "required":[
                    "name",
                    "fullName"
                ],
                "properties":{
                    "name":{
                    "type":"string"
                    },
                    "fullName":{
                    "type":"string"
                    }
                }
            },
            "advice":{
                "type":"object",
                "title":"Advice",
                "required":[
                    "advice",
                    "author",
                    "created"
                ],
                "properties":{
                    "group":{
                    "$ref":"#/$defs/group"
                    },
                    "advice":{
                    "type":"string"
                    },
                    "author":{
                    "$ref":"#/$defs/user"
                    },
                    "created":{
                    "$ref":"#/$defs/created"
                    },
                    "reviewDocuments":{
                    "type":"array",
                    "items":{
                        "$ref":"#/$defs/reviewDocument"
                    }
                    },
                    "zaakeigenschappen":{
                    "type":"array",
                    "items":{
                        "$ref":"#/$defs/zaakeigenschap"
                    }
                    }
                }
            },
            "created":{
                "type":"string"
            },
            "approval":{
                "name":"Approval",
                "type":"object",
                "required":[
                    "approved",
                    "author",
                    "created",
                    "toelichting"
                ],
                "properties":{
                    "group":{
                    "$ref":"#/$defs/group"
                    },
                    "author":{
                    "$ref":"#/$defs/user"
                    },
                    "created":{
                    "$ref":"#/$defs/created"
                    },
                    "approved":{
                    "type":"boolean"
                    },
                    "toelichting":{
                    "type":"string"
                    },
                    "reviewDocuments":{
                    "type":"array",
                    "items":{
                        "$ref":"#/$defs/reviewDocument"
                    }
                    },
                    "zaakeigenschappen":{
                    "type":"array",
                    "items":{
                        "$ref":"#/$defs/zaakeigenschap"
                    }
                    }
                }
            },
            "reviewType":{
                "type":"string"
            },
            "reviewRequest":{
                "type":"string"
            },
            "reviewDocument":{
                "type":"object",
                "title":"reviewDocument",
                "required":[
                    "document",
                    "sourceVersion",
                    "reviewVersion"
                ],
                "properties":{
                    "document":{
                    "type":"string"
                    },
                    "reviewVersion":{
                    "type":"integer"
                    },
                    "sourceVersion":{
                    "type":"integer"
                    }
                }
            },
            "zaakeigenschap":{
                "type":"object",
                "title":"zaakeigenschap",
                "required":[
                    "url",
                    "naam",
                    "waarde"
                ],
                "properties":{
                    "url":{
                    "type":"string"
                    },
                    "naam":{
                    "type":"string"
                    },
                    "waarde":{
                    "type":"string"
                    }
                }
            }
        },
        "title":"Reviews",
        "required":[
            "id",
            "requester",
            "reviewRequest",
            "reviewType",
            "reviews",
            "zaak"
        ],
        "properties":{
            "id":{
                "$ref":"#/$defs/id"
            },
            "zaak":{
                "$ref":"#/$defs/zaak"
            },
            "reviews":{
                "type":"array",
                "items":{
                    "oneOf":[
                    {
                        "$ref":"#/$defs/advice"
                    },
                    {
                        "$ref":"#/$defs/approval"
                    }
                    ]
                }
            },
            "requester":{
                "$ref":"#/$defs/user"
            },
            "reviewType":{
                "$ref":"#/$defs/reviewType"
            },
            "reviewRequest":{
                "$ref":"#/$defs/reviewRequest"
            }
        }
    }