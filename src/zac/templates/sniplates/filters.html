{% load sniplates i18n %}


{% block _errors %}
{% for error in errors %}
    <div class="filter-field__error">{{ error }}</div>
{% endfor %}
{% endblock %}

{% block _help %}
{% if help_text %}<span class="filter-field__hint">{{ help_text }}</span>{% endif %}
{% endblock %}

{% block _label %}
<label class="filter-field__label" for="{{ id_for_label }}">{{ label }}</label>
{% endblock %}


{% block input %}
{% with input_type=input_type|default:"text" %}
<input
    type="{{ input_type }}"
    name="{{ html_name }}"
    id="{{ id }}"
    value="{{ raw_value|default:"" }}"
    class="filter-field__input"
    {% if placeholder %}placeholder="{{ placeholder }}"{% endif %}
>
{% endwith %}
{% endblock %}


{% block TextInput %}
<div class="filter-field {{ errors|yesno:'filter-field--invalid,' }}">
    {% reuse '_label' %}
    {% reuse 'input' %}
    {% reuse '_help' %}
    {% reuse '_errors' %}
</div>
{% endblock %}


{% block CheckboxSelectMultiple %}
<div class="filter-field {{ errors|yesno:'filter-field--invalid,' }}">
    {% reuse '_label' %}

    <ul id="{{ id }}" class="checkbox-select">
        {% for val, display in choices %}
            <li class="checkbox-select__option">
                <input
                    type="checkbox"
                    name="{{ html_name }}"
                    id="{{ id }}_{{ forloop.counter0 }}"
                    value="{{ val }}"
                    {% if val in value %}checked{% endif %}
                >
                <label for="{{ id }}_{{ forloop.counter0 }}">{{ display }}</label>
            </li>
        {% endfor %}

    </ul>

    {% reuse '_help' %}
    {% reuse '_errors' %}
</div>
{% endblock %}
