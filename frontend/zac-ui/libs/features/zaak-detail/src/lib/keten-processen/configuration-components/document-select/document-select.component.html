<div class="configuration-component" *ngIf="taskContextData">
  <h1>{{taskContextData.context.title}}</h1>
  <form class="configuration-form" [formGroup]="selectDocumentsForm" *ngIf="selectDocumentsForm.controls['documents'].value">
    <h2>{{taskContextData.task.name}}</h2>
    <article class="configuration-details">
      <label class="h4 d-inline-block mr-2">Documenten</label>
      <p>Dit zijn de documenten die bij de zaak horen. Selecteer de relevante documenten voor het vervolg van het proces.</p>
      <div class="configuration-files" formArrayName="documents">
        <div class="row">
          <div class="col-md-6 form-group" *ngFor="let document of documents.controls; let i = index">
            <gu-checkbox id="kp-docs-select-{{i}}"
                         [value]="taskContextData.context.documents[i].url"
                         [control]="document">
              <span><a [href]="taskContextData.context.documents[i].readUrl">{{taskContextData.context.documents[i].bestandsnaam}}</a></span>
            </gu-checkbox>
          </div>
        </div>
      </div>
    </article>
    <div class="d-flex justify-content-end">
      <gu-button size="large" (click)="submitForm()" [disabled]="!selectDocumentsForm.valid">Voltooien</gu-button>
    </div>
  </form>
</div>
