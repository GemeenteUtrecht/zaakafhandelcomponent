<div class="configuration-component" *ngIf="taskContextData && !submitSuccess">
  <h2>{{taskContextData.task.name}}</h2>
  <form class="configuration-form" [formGroup]="dynamicForm">
    <article class="configuration-details" *ngFor="let formField of formFields">
      <div class="col-md-6 form-group">
        <label class="h4 d-inline-block">{{formField.label | titlecase}}</label>
        <ng-container [ngSwitch]="formField.inputType">
<!--          enum-->
          <ng-container *ngSwitchCase="'enum'">
            <gu-multiselect [searchable]="false"
                            [selectedValue]="formField.value"
                            [items]="formattedEnumItems[formField.name]"
                            [multiple]="false"
                            [control]="dynamicFormField(formField.name)"
                            bindLabel="name"
                            bindValue="id">
            </gu-multiselect>
          </ng-container>
<!--          string-->
          <gu-input *ngSwitchCase="'string'"
                    type="text"
                    [required]="true"
                    [control]="dynamicFormField(formField.name)"
                    [value]="formField.value"
                    id="dyn-form-str-{{formField.name}}"
          ></gu-input>
<!--          number-->
          <gu-input *ngSwitchCase="'int'"
                    type="number"
                    [required]="true"
                    [control]="dynamicFormField(formField.name)"
                    [value]="formField.value"
                    id="dyn-form-int-{{formField.name}}"
          ></gu-input>
<!--          boolean-->
          <ng-container *ngSwitchCase="'boolean'">
            <gu-multiselect [searchable]="false"
                            [selectedValue]="formField.value"
                            [items]="formattedBooleanItems[formField.name]"
                            [multiple]="false"
                            [control]="dynamicFormField(formField.name)"
                            bindLabel="name"
                            bindValue="id">
            </gu-multiselect>
          </ng-container>
<!--          date-->
          <ng-container *ngSwitchCase="'date'">
            <gu-datepicker
              [control]="dynamicFormField(formField.name)"
              [required]="true"
            ></gu-datepicker>
          </ng-container>
        </ng-container>
      </div>
    </article>
    <div class="d-flex justify-content-end">
      <button gu-button size="large"
                 (click)="submitForm()"
                 [disabled]="!dynamicForm.valid || isSubmitting"
                 [loading]="isSubmitting">
        Voltooien
      </button>
    </div>
  </form>
  <gu-message *ngIf="submitHasError" type="warn" [message]="submitErrorMessage">
  </gu-message>
</div>
