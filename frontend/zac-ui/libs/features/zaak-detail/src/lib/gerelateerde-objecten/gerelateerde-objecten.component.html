<div class="gerelateerde-objecten card">

  <h2 class="d-inline-block mr-1">Gerelateerde objecten</h2>
  <gu-tooltip type="primary" inline="true">Objecten die gerelateerd zijn aan deze zaak zoals een pand</gu-tooltip>

  <!-- Loading -->
  <ng-container *ngIf="isLoading">
    <gu-loading-indicator></gu-loading-indicator>
  </ng-container>
  <!-- End loading -->

  <!-- Table -->
  <ng-container *ngIf="relatedObjects && !isLoading">
    <div *ngFor="let table of tables; trackBy: trackRow;">
      <h3>{{table.title|titlecase}}</h3>
      <gu-table [expandable]="true" [table]="table.table" (buttonOutput)="tableButtonClick($event)" class="mb-4"></gu-table>
    </div>
    <p *ngIf="(relatedObjects.length === 0)">Er zijn geen gerelateerde objecten.</p>
  </ng-container>
  <!-- End table -->

  <footer class="card__actions">
    <button (click)="addClick($event)"
            gu-button
            icon="add"
            buttonStyle="tertiary">
      Gerelateerd object toevoegen
    </button>
  </footer>

  <!-- Modal object search -->
  <gu-modal [closeIcon]="true"
            [id]="modalObjectSearchId"
            size="small">
    <gu-zaak-object-search-form (selectZaakObject)="selectZaakObject($event)"></gu-zaak-object-search-form>
  </gu-modal>
  <!-- End modal object search -->

  <!-- Modal form -->
  <gu-modal [closeIcon]="true"
            [id]="modalFormId"
            size="small">
      <gu-form *ngIf="activeZaakObject && !isLoading" [form]="form" (formSubmit)="formSubmit($event)" buttonLabel="Toevoegen"></gu-form>
      <gu-loading-indicator *ngIf="isLoading"></gu-loading-indicator>
  </gu-modal>
  <!-- End modal form -->
</div>
