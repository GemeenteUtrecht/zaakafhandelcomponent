<div class="configuration-component" *ngIf="taskContextData && !submitSuccess">
  <h2>{{taskContextData.task.name}}</h2>
  <ng-container *ngIf="taskContextData.task.name.split(':')[0] === 'Open bijdragezaak'; else default">
    <gu-message type="primary" class='d-block mb-4'>
      <p>De bijdragezaak is geopend in een nieuw pop-up venster. Zorg er voor dat uw browser pop-up blockers uitgeschakeld zijn.</p>
      <p class="p--marginsmall"><strong>Rond de bijdragezaak af zodat je verder kunt in het hoofdproces.</strong></p>
      <p> Klik op de knop hieronder om door te gaan in het proces.</p>
    </gu-message>
  </ng-container>
  <ng-template #default>
    <ng-container *ngIf="target === '_blank'">
      <gu-message type="primary" class='d-block mb-4'>
        <p>De vervolgzaak is geopend in een nieuw venster, zorg ervoor dat uw pop-up blockers uitgeschakeld zijn. Het proces op de huidige zaak is succesvol doorlopen, sluit openstaande taken en ga verder met behandelen in de vervolgzaak.</p>
      </gu-message>
      <div class="d-flex justify-content-start">
        <button gu-button
                (click)="submitForm()"
                [disabled]="isSubmitting"
                [loading]="isSubmitting">
          Taak afhandelen
        </button>
      </div>
    </ng-container>
  </ng-template>
  <gu-message *ngIf="submitHasError" type="warn" [message]="submitErrorMessage">
  </gu-message>
</div>
