<div class="gu-sidenav">
  <div class="backdrop" [ngClass]="{'expanded': expanded === true}" (click)="expanded = !expanded"></div>
  <header class="navigation-header d-lg-none">
    <div class="navbar-left">
      <button class="hamburger" aria-label="Menuknop" (click)="expanded = !expanded">
        <gu-icon>menu</gu-icon>
      </button>
    </div>
    <div class="navbar-logo">
      <span class="logo" [ngStyle]="{'background-image': 'url(' + mobileLogoUrl + ')'}"></span>
    </div>
    <div class="navbar-right">
    </div>
  </header>
  <nav class="vertical-nav" [ngClass]="{'expanded': expanded === true}" (click)="expanded = !expanded">
    <a class="mobile-menu-back menu-item menu-link d-lg-none" aria-label="Menuknop" (click)="expanded = !expanded">
      <gu-icon fontSize="50">arrow_back</gu-icon>
      Ga terug
    </a>
    <div class="logo mb-2">
      <img [src]="logoUrl"/>
    </div>
    <div class="menu-container" *ngIf="menuItems && currentUser">
      <div class="top-navigation">
        <div class="searchbox mb-4">
          <ng-content select="gu-zaak-select"></ng-content>
        </div>
        <ng-container *ngFor="let item of menuItems">
          <a *ngIf="item.external && isAuthorised(item.adminOnly)"
             (click)="toggle()"
             href="{{item.to}}"
             [target]="item.external ? '_blank' : null"
             class="menu-item menu-link"
             [ngClass]="{
             'selected': !item.external && selectedParentMenu === subtractParentRoute(item.to),
             'mb-3': item.marginBottom === true
             }"
          >
            <gu-icon>{{item.icon}}</gu-icon>
            <span class="menu-item__label">{{item.label}}</span>
          </a>
          <a *ngIf="!item.external && isAuthorised(item.adminOnly)"
             (click)="toggle()"
             [routerLink]="!item.external ? [item.to] : null"
             class="menu-item menu-link"
             [ngClass]="{
             'selected': !item.external && selectedParentMenu === subtractParentRoute(item.to),
             'mb-3': item.marginBottom === true
             }"
          >
            <gu-icon>{{item.icon}}</gu-icon>
            <span class="menu-item__label">{{item.label}}</span>
          </a>
        </ng-container>
      </div>
    </div>
    <p class="logged-in-user ml-2 mb-0">Ingelogd als: <strong>{{currentUser?.fullName ? currentUser?.fullName : currentUser?.username}}</strong></p>
    <button gu-button class="logout-button" buttonStyle="tertiary" size="small" (click)="logOutEvent()">
      Uitloggen
    </button>
  </nav>
</div>
